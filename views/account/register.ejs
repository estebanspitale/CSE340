<%- include("../partials/head") %>

<main>
  <h1><%= title %></h1>

  <!-- Flash Messages -->
<% if (messages('notice') && messages('notice').length > 0) { %>
  <ul class="flash-messages">
    <% messages('notice').forEach(function(message) { %>
      <li><%= message %></li>
    <% }) %>
  </ul>
<% } %>

 <!-- Validation Errors -->
  <% if (errors) { %>
    <ul class="notice">
      <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <!-- Registration Form -->
  <form action="/account/register" method="post" class="form-card">
    <label for="account_firstname">First Name</label>
    <input type="text" name="account_firstname" id="accountFirstname" required value="<%= locals.account_firstname %>">

    <label for="account_lastname">Last Name</label>
    <input type="text" id="account_lastname" name="account_lastname" required value="<%= locals.account_lastname %>">

    <label for="account_email">Email</label>
    <input type="email" id="account_email" name="account_email" required value="<%= locals.account_email %>">

    <label for="account_password">Password</label>
    <div class="password-wrapper">
  <input type="password" id="account_password" name="account_password" required
    pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$">
  <button type="button" id="togglePassword">Show</button>
</div>

    <p class="password-rules">
      Password must be at least 12 characters long and include at least one uppercase letter, one number, and one special character.
    </p>
    <!-- Password: templo2310 -->

    <button type="submit">Register</button>
  </form>
</main>

<script>
  // Toggle password visibility
  const togglePassword = document.getElementById("togglePassword");
const passwordField = document.getElementById("account_password");

togglePassword.addEventListener("click", function () {
  const type = passwordField.getAttribute("type") === "password" ? "text" : "password";
  passwordField.setAttribute("type", type);
  this.textContent = type === "password" ? "Show" : "Hide";
});
</script>

<!-- Accounts information

account_firstname: Basic
account_lastname: Client
account_email: basic@340.edu
account_password: I@mABas1cCl!3nt

account_firstname: Happy
account_lastname: Employee
account_email: happy@340.edu
account_password: I@mAnEmpl0y33

account_firstname: Manager
account_lastname: User
account_email: manager@340.edu
account_password: I@mAnAdm!n1strat0r

-->